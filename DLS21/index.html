<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="DLS Card Creator">
    <meta property="og:description" content="A card creator for the popular soccer game by First Touch Games.">
    <meta property="og:url" content="https://theshinramen.github.io/DLS-Card-Creator/DLS21/">
    <title>Tạo thẻ DLS</title>
    <link href="style.css" rel="stylesheet">
</head>

<body onload="drawCard()">
    <header>
        <h1><a href="/DLS-Card-Creator/">Tạo thẻ DLS</a>
            <span>bởi <a href="https://www.github.com/haideptrai9/DLS-Card-Creator" target="_blank">Haideptrai9</a></span>
        </h1>
    </header>
    <div>
        <canvas id="card" width="458" height="316"></canvas>
    </div>
    <div>
        <p>Phiên bản
            <select id="version" onchange="window.location.assign(`/DLS-Card-Creator/${value}`);">
                <option value="DLS19">
                    DLS 19
                </option>
                <option selected value="DLS21">
                    DLS 21
                </option>
                <option value="DLS22">
                    DLS 22
                </option>
                <option value="DLS23">
                    DLS 23
                </option>
            </select>
        </p>
    </div>
    <div id="settings">
        <p>Tên
            <input id="firstName" type="text" value="Lionel">
            <input id="lastName" type="text" value="Messi">
        </p>
        <p>Loại thẻ
            <select id="cardType">
                <option selected value="legendary">
                    Vàng
                </option>
                <option value="rare">
                    Xanh
                </option>
                <option value="common">
                    Trắng
                </option>
            </select>
            Chiều Chao
            <input id="height" max="999" min="1" type="number" value="171">
            Chân
            <select id="footColor">
                <option value="black">
                    Đen
                </option>
                <option value="white">
                    Trắng
                </option>
                <option value="gold">
                    Vàng
                </option>
                <option value="red">
                    Đỏ
                </option>
                <option selected value="blue">
                    Xanh biển
                </option>
                <option value="pink">
                    Hồng
                </option>
                <option value="yellow">
                    Vàng
                </option>
                <option value="orange">
                    Cam
                </option>
                <option value="purple">
                    Tím
                </option>
                <option value="brown">
                    Nâu
                </option>
                <option value="green">
                    Xanh Lá
                </option>
                <option value="grey">
                    Xám
                </option>
                <option value="random">
                    Ngẫu nhiên
                </option>
            </select>
            <select id="foot">
                <option value="R">
                    Phải
                </option>
                <option selected value="L">
                    Trái
                </option>
                <option value="B">
                    Đôi
                </option>
            </select>
        </p>
        <p>
            <div>
  Ovr
  <input id="rating" max="100" min="1" type="number" value="89">
  Vị trí
  <select id="position">
    <option value="CF">CF</option>
    <option selected value="WF">WF</option>
    <option value="LM">LM</option>
    <option value="CM">CM</option>
    <option value="RM">RM</option>
    <option value="AM">AM</option>
    <option value="DM">DM</option>
    <option value="LB">LB</option>
    <option value="CB">CB</option>
    <option value="RB">RB</option>
    <option value="GK">GK</option>
  </select>
  Quốc tịch <a href="https://github.com/theshinramen/DLS-Files/blob/main/flags/README.md" target="_blank"><sup>(?)</sup></a>
  <select id="nationality"></select>
</div>
<p>
  Stats
  <input id="stats1" max="100" min="1" type="number" value="89">
  <input id="stats2" max="100" min="1" type="number" value="90">
  <input id="stats3" max="100" min="1" type="number" value="85">
  <input id="stats4" max="100" min="1" type="number" value="94"> <br>
  <input id="stats5" max="100" min="1" type="number" value="67">
  <input id="stats6" max="100" min="1" type="number" value="58">
  <input id="stats7" max="100" min="1" type="number" value="93">
  <input id="stats8" max="100" min="1" type="number" value="92">
</p>

<script>
  const ratingInput = document.getElementById("rating");
  const statsInputs = [
    document.getElementById("stats1"),
    document.getElementById("stats2"),
    document.getElementById("stats3"),
    document.getElementById("stats4"),
    document.getElementById("stats5"),
    document.getElementById("stats6"),
    document.getElementById("stats7"),
    document.getElementById("stats8"),
  ];

  const getAverage = (array) => {
    const sum = array.reduce((accumulator, currentValue) => accumulator + currentValue);
    return sum / array.length;
  }

  const setStatsRandomly = () => {
    const rating = Number(ratingInput.value);
    const positions = {
    const positions = {
CF: [85, 88, 80, 75, 70, 70, 50, 45],
WF: [80, 80, 80, 80, 75, 70, 60, 60],
LM: [75, 75, 80, 85, 75, 70, 70, 65],
CM: [75, 75, 75, 85, 85, 80, 75, 75],
RM: [75, 75, 80, 85, 75, 70, 70, 65],
AM: [75, 80, 80, 85, 75, 70, 70, 60],
DM: [75, 75, 80, 85, 90, 85, 75, 70],
LB: [75, 75, 80, 80, 80, 85, 80, 75],
CB: [75, 80, 85, 80, 85, 85, 70, 70],
RB: [75, 75, 80, 80, 80, 85, 80, 75],
GK: [60, 70, 70, 75, 90, 85, 60, 50]
};
const statsInputs = [
Number(stats1Input.value),
Number(stats2Input.value),
Number(stats3Input.value),
Number(stats4Input.value),
Number(stats5Input.value),
Number(stats6Input.value),
Number(stats7Input.value),
Number(stats8Input.value)
];
let totalStats = statsInputs.reduce((total, input) => total + input, 0);
let randomStats = new Array(8).fill(0);
let count = 0;
while (totalStats < rating * 8) {
const position = positionSelect.value;
for (let i = 0; i < 8; i++) {
if (randomStats[i] < positions[position][i]) {
randomStats[i]++;
totalStats++;
count++;
}
if (totalStats >= rating * 8) break;
}
if (count > 1000) {
// avoid infinite loop
console.log("Cannot generate stats for the given OVR");
break;
}
}
statsInputs.forEach((input, index) => {
if (input === "") {
statsInputs[index] = randomStats[index];
}
});
stats1Input.value = statsInputs[0];
stats2Input.value = statsInputs[1];
stats3Input.value = statsInputs[2];
stats4Input.value = statsInputs[3];
stats5Input.value = statsInputs[4];
stats6Input.value = statsInputs[5];
stats7Input.value = statsInputs[6];
stats8Input.value = statsInputs[7];
};
        </p>
        <p>
            Stats
            <input id="stats1" max="100" min="1" type="number" value="89">
            <input id="stats2" max="100" min="1" type="number" value="90">
            <input id="stats3" max="100" min="1" type="number" value="85">
            <input id="stats4" max="100" min="1" type="number" value="94"> <br>
            <input id="stats5" max="100" min="1" type="number" value="67">
            <input id="stats6" max="100" min="1" type="number" value="58">
            <input id="stats7" max="100" min="1" type="number" value="93">
            <input id="stats8" max="100" min="1" type="number" value="92">
        </p>
        <p>Ảnh
            <select id="playerID"></select>
            <input accept="image/gif, image/jpeg, image/png" type="file" id="uploadImage" />
            <button type="button" onclick="document.getElementById('uploadImage').click();">Upload image</button>
            <button type="button" onclick="saveCard()">Save image</button>
        </p>
    </div>
    <div id="buttons" style="position: fixed; bottom: 20px; right: 20px;">
        <a href="/DLS-Card-Creator">
            <img src="/DLS-Card-Creator/assets/icon/home.png" style="border-radius: 10px;" height="30px">
    </div>

    <script src="script.js"></script>
</body>

</html>
